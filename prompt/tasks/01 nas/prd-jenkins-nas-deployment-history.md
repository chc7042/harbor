# Product Requirements Document: Jenkins NAS 배포 이력 관리 웹페이지

## Introduction/Overview

Jenkins를 통해 빌드된 아티팩트들이 NAS에 배포되고 있지만, 현재 배포 현황과 이력을 파악하기 어려운 상황입니다. 개발자, DevOps 엔지니어, QA 팀, 프로젝트 매니저들이 배포된 파일들의 현황을 쉽게 추적하고, 특정 프로젝트의 배포 이력을 검색할 수 있는 통합된 웹 인터페이스가 필요합니다.

본 웹페이지는 Jenkins 빌드 정보와 NAS 파일 시스템을 모니터링하여 배포 이력을 자동으로 수집하고, 사용자 친화적인 대시보드를 통해 배포 현황을 시각화합니다.

## Goals

1. NAS에 배포된 파일들의 실시간 현황을 한 눈에 파악할 수 있는 대시보드 제공
2. 프로젝트별, 기간별 배포 이력 검색 및 필터링 기능 구현
3. Jenkins 빌드 정보와 NAS 파일 정보를 연동하여 완전한 배포 추적 체계 구축
4. 배포 문제 발생 시 신속한 원인 분석을 위한 상세 정보 제공
5. 1-5분 이내의 준실시간 업데이트를 통한 최신 배포 상태 반영

## User Stories

1. **개발자로서**, 내가 개발한 프로젝트의 최신 배포 상태를 확인하고 싶습니다. 그래야 배포가 성공적으로 완료되었는지 알 수 있습니다.

2. **DevOps 엔지니어로서**, 전체 프로젝트들의 배포 현황을 한 번에 모니터링하고 싶습니다. 그래야 시스템 전반의 배포 상태를 파악할 수 있습니다.

3. **QA 팀원으로서**, 특정 빌드 번호의 아티팩트가 언제 어디에 배포되었는지 검색하고 싶습니다. 그래야 테스트할 정확한 버전을 찾을 수 있습니다.

4. **프로젝트 매니저로서**, 프로젝트별 배포 빈도와 성공률을 확인하고 싶습니다. 그래야 릴리즈 계획을 효율적으로 수립할 수 있습니다.

5. **모든 사용자로서**, 배포 실패 시 상세한 오류 정보를 확인하고 싶습니다. 그래야 문제를 신속하게 해결할 수 있습니다.

## Functional Requirements

1. **배포 현황 대시보드**
   - 1.1 전체 프로젝트의 최근 배포 상태를 카드 형태로 표시해야 합니다
   - 1.2 프로젝트별 최신 빌드 번호, 배포 시간, 상태(성공/실패)를 표시해야 합니다
   - 1.3 배포 성공률을 차트로 시각화해야 합니다
   - 1.4 최근 24시간 내 배포 활동 타임라인을 표시해야 합니다

2. **배포 이력 검색 및 필터링**
   - 2.1 프로젝트명으로 배포 이력을 검색할 수 있어야 합니다
   - 2.2 날짜 범위를 지정하여 배포 이력을 필터링할 수 있어야 합니다
   - 2.3 빌드 번호로 특정 배포를 검색할 수 있어야 합니다
   - 2.4 배포 상태(성공/실패/진행중)로 필터링할 수 있어야 합니다
   - 2.5 검색 결과를 테이블 형태로 정렬 가능하게 표시해야 합니다

3. **데이터 수집 시스템**
   - 3.1 Jenkins Webhook을 통해 빌드 완료 정보를 실시간으로 수집해야 합니다
   - 3.2 NAS 디렉토리를 주기적으로 스캔하여 파일 정보를 수집해야 합니다
   - 3.3 수집된 데이터는 데이터베이스에 저장되어야 합니다
   - 3.4 중복 데이터 방지를 위한 유니크 키 관리 기능이 있어야 합니다

4. **상세 정보 표시**
   - 4.1 각 배포 항목의 상세 정보(파일 크기, 경로, 커밋 해시 등)를 표시해야 합니다
   - 4.2 배포 실패 시 오류 메시지와 로그를 표시해야 합니다
   - 4.3 파일 다운로드 링크를 제공해야 합니다

5. **실시간 업데이트**
   - 5.1 새로운 배포가 감지되면 1-5분 이내에 화면에 반영되어야 합니다
   - 5.2 WebSocket을 통한 실시간 알림 기능을 제공해야 합니다
   - 5.3 브라우저 새로고침 없이 데이터가 자동 업데이트되어야 합니다

6. **사용자 인증 및 권한 관리**
   - 6.1 LDAP을 통한 사용자 인증 기능을 제공해야 합니다
   - 6.2 로그인/로그아웃 페이지를 제공해야 합니다
   - 6.3 인증되지 않은 사용자는 애플리케이션에 접근할 수 없어야 합니다
   - 6.4 세션 관리 및 토큰 기반 인증을 지원해야 합니다
   - 6.5 사용자 정보(이름, 부서 등)를 LDAP에서 가져와 표시해야 합니다

## Non-Goals (Out of Scope)

1. **배포 제어 기능**: 웹페이지에서 직접 배포를 시작하거나 중단하는 기능은 포함하지 않습니다
2. **파일 편집**: NAS에 있는 파일을 직접 편집하거나 수정하는 기능은 제공하지 않습니다
3. **복잡한 권한 관리**: 역할별 세부 권한 설정은 포함하지 않습니다 (모든 인증된 사용자는 동일한 권한)
4. **알림 시스템**: 이메일, 슬랙 등 외부 알림 연동은 향후 버전에서 고려합니다
5. **배포 자동화**: CI/CD 파이프라인 자동화나 스케줄링 기능은 포함하지 않습니다

## Design Considerations

1. **뉴욕 스타일 디자인 시스템**:
   - **미니멀리즘**: 깔끔하고 간결한 인터페이스, 불필요한 요소 제거
   - **타이포그래피**: 읽기 쉬운 San Francisco, Inter, Roboto 폰트 사용
   - **색상 팔레트**: 모노크롬 기반 + 포인트 컬러 (블랙, 화이트, 그레이 스케일)
   - **그리드 시스템**: 정렬된 레이아웃, 일관된 간격과 패딩
   - **카드 디자인**: 그림자 효과 최소화, 보더와 여백으로 구분

2. **반응형 웹 디자인**: 데스크톱과 태블릿에서 모두 사용 가능해야 합니다

3. **인증 UI 설계**:
   - 로그인 페이지: 중앙 정렬된 미니멀한 폼, 뉴욕 스타일 입력 필드
   - 헤더: 왼쪽 로고, 오른쪽 사용자 정보 및 로그아웃 버튼

4. **대시보드 레이아웃**:
   - 상단: 깔끔한 헤더와 전체 통계 요약 (카드 형태)
   - 중앙: 그리드 형태의 프로젝트별 배포 상태 카드
   - 하단: 미니멀한 테이블 스타일의 최근 배포 이력

5. **뉴욕 스타일 색상 시스템**:
   - **Primary**: #000000 (블랙) - 메인 텍스트, 헤더
   - **Secondary**: #666666 (다크 그레이) - 보조 텍스트
   - **Background**: #FFFFFF (화이트) - 메인 배경
   - **Surface**: #F8F9FA (라이트 그레이) - 카드, 사이드바 배경
   - **Success**: #10B981 (모던 그린) - 성공 상태
   - **Error**: #EF4444 (모던 레드) - 실패 상태
   - **Warning**: #F59E0B (모던 앰버) - 진행중 상태
   - **Accent**: #3B82F6 (모던 블루) - 링크, 버튼

6. **검색 UI**: 상단에 미니멀한 검색바와 깔끔한 필터 드롭다운

## Technical Considerations

1. **백엔드**: Node.js + Express 기반 REST API
2. **인증**: LDAP 연동을 위한 ldapjs 또는 passport-ldapauth 라이브러리 활용
3. **세션 관리**: JWT 토큰 기반 인증 및 Express-session
4. **프론트엔드**: React 기반 SPA
5. **데이터베이스**: PostgreSQL로 배포 정보 및 사용자 세션 저장
6. **파일 시스템 접근**: NAS 마운트 경로를 통한 직접 파일 시스템 접근
7. **실시간 통신**: WebSocket을 통한 실시간 업데이트
8. **스케줄링**: Cron 작업을 통한 주기적 NAS 스캔
9. **모니터링**: 파일 시스템 이벤트 감지를 위한 Watchdog 라이브러리 활용

## Success Metrics

1. **사용률**: 일일 활성 사용자 수 (목표: 개발팀 전체의 80% 이상)
2. **응답 시간**: 대시보드 로딩 시간 3초 이내
3. **데이터 정확성**: 실제 배포와 화면 표시 정보의 일치율 99% 이상
4. **업데이트 지연**: 배포 완료 후 화면 반영까지 5분 이내
5. **문제 해결 시간**: 배포 문제 발생 시 원인 파악 시간 50% 단축

## Open Questions

1. **NAS 접근 권한**: 웹 애플리케이션이 NAS에 접근하기 위한 마운트 설정은 어떻게 구성할 예정인가요?
2. **Jenkins 연동**: 기존 Jenkins 설정을 변경해야 하는 부분이 있나요? Webhook 설정을 위한 권한은 확보되어 있나요?
3. **데이터 보존 정책**: 오래된 배포 이력은 얼마나 오래 보관할 예정인가요?
4. **확장성**: 향후 다른 CI/CD 도구(GitLab CI, GitHub Actions 등)와의 연동도 고려해야 하나요?
5. **보안**: NAS 파일 경로나 Jenkins 정보 노출에 대한 보안 고려사항이 있나요?